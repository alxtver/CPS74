{% extends 'department74/base.html' %}
{% block content %}

<div>
    <h3 class="display-4">Комплектующие</h3>
</div>

<div>
{% if errors %}

    {% for error in errors %}
       <p type="text" class="text-danger"> {{ error }} </p>
    {% endfor %}

{% endif %}

<form action="" method="get">
    <div class="input-group col-md-6">
        <input type="text" class="form-control" placeholder="Поиск" value="{{ query }}" name="q">
        <div class="input-group-btn">
            <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
        </div>
    </div>
</form>
<div>
    <button onclick="location.href = '/components/new/'" class="btn btn-dark">Новый</button>
</div>
<div><br></div>
{% if matches %}
    <p class="table_font_text">Найдено {{ matches|length }}.</p>
        <table class="table table-bordered table-striped table-hover table-sm">
            <thead class="thead-dark">
                <tr>
                    <th>Тип</th>
                    <th>Наименование</th>
                    <th>Серийный номер</th>
                    <th>Партия</th>
                    <th>Номер машины</th>
                    <th>Страна производства</th>
                    <th>Дата</th>
                </tr>
            </thead>
        {% for i in matches %}
          <tr>
            <td>{{ i.name_type }}</td>
	        <td>{{ i.name }}</td>
	        <td>{{ i.serial_number }}</td>
	        <td>{{ i.part_name }}</td>
            <td>{{ i.computer}}</td>
            <td>{{ i.country }}</td>
            <td>{{ i.date_of_arrival }}</td>
          </tr>
        {% endfor %}
        </table>

{% elif not matches %}
    <table class="table table-bordered table-striped table-hover table-sm">
    <thead class="thead-dark">
    <tr>
        <th>Тип</th>
        <th>Наименование</th>
        <th>Серийный номер</th>
        <th>Партия</th>
        <th>Номер машины</th>
        <th>Страна производства</th>
        <th>Дата</th>
    </tr>
    </thead>
    {% for component in components %}
        <tr>
            <td>{{ component.name_type }}</td>
            <td>{{ component.name }}</td>
            <td>{{ component.serial_number }}</td>
            <td>{{ component.part_name }}</td>
            <td>{{ component.computer }}</td>
            <td>{{ component.country }}</td>
            <td>{{ component.date_of_arrival }}</td>
        </tr>
    {% endfor %}
</table>
    {% else %}
        <p>{{ notfound }}</p>

{% endif %}
</div>


{% endblock %}
